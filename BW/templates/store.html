{% extends 'basics.html' %}
{% load static %}


{% block content %}
<main>

<form method="GET">
    {{ filter_form.as_p }}
    <h4><button type="submit" class="bike-search">Search!</button></h4>
</form>


<div class="grid-page">
    {% for bike in all_bikes %}
        <div class="bike-card">
            <p class="bike-name">
                {{ bike.name }}
                <span class="bike-desc">
                    {{ bike.description }}
                </span>
            </p>
            <p><img src="{{ bike.image_path.image.url }}"></p>   
            <p class="bike-photo">{{ bike.amount }}</p>
            <p class="bike-price">Price: {{ bike.price }}</p>
            <p class="bike-amount">Amount: {{ bike.bike_amount }}</p>
            <button type="submit" class="buy-button"><a href="{% url 'bike_page' bike.id %}" class="bike-link">View</a></button>
        </div>
    {% endfor %}
</div>

<nav>
    <a class="bike-link {% if not all_bikes.has_previous %} disabled {% endif %}" href="{% if all_bikes.has_previous %} {% url 'main_store_page' %}?page={{ all_bikes.previous_page_number }} {% endif %}">
        <h4 class="bike-page-back-forward">Back</h4>
    </a>
    <a class="bike-link {% if not all_bikes.has_next %} disabled {% endif %}" href="{% if all_bikes.has_next %} {% url 'main_store_page' %}?page={{ all_bikes.next_page_number }} {% endif %}">
        <h4 class="bike-page-back-forward">Forward</h4>
    </a>
</nav>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
</main>
{% endblock %}

<!-- 
{% if all_bikes.has_previous %} {% url 'main_store_page' %}?page={{ all_bikes.previous_page_number }} {% endif %} -->

<!-- 
 ---  --><!-- 

<h2><i>Велосипеди з результату {filter}</i></h2> -->

/<!-- 
{% for bike in all_bikes %}
    <div>
        <p>{{ bike.name }}</p>
        <p>{{ bike.price }}</p>
        <p>opisanie: {{ bike.description }}</p>
        <p>Amount: {{ bike.amount}}</p>
    </div>
{% endfor %} -->